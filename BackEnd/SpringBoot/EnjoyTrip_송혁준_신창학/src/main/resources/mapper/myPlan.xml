<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.enjoy.trip.mapper.MyPlanMapper">

 <!-- MyPlan 객체들을 일괄적으로 insert하는 쿼리 
  <insert id="saveMyPlan" parameterType="java.util.List">
      INSERT INTO my_plan (idx, title, addr1, first_image, expect_time, user_id, user_no) 
      VALUES 
	    <foreach collection="list" item="myPlan" separator=",">
      			(#{myPlan.idx}, #{myPlan.title}, #{myPlan.addr1}, #{myPlan.firstImage}, #{myPlan.expectTime},
       		  #{myPlan.userId}, #{myPlan.userNo})
    	</foreach>
  </insert>
  -->
  
  <insert id="saveMyPlan" parameterType="MyPlan">
  INSERT INTO my_plan ( user_id, user_no, trip_title) 
  VALUES (#{userId},#{userNo},#{tripTitle})
  </insert>
  
  <select id="getPlanNo" resultType="int" >
  	select max(my_plan_no)
  	  from my_plan
  </select>

</mapper>